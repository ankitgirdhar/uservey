(this["webpackJsonpuservey-frontend"]=this["webpackJsonpuservey-frontend"]||[]).push([[0],{123:function(e,t,a){e.exports=a(158)},128:function(e,t,a){},131:function(e,t,a){},158:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),o=a.n(i),s=(a(128),a(97)),c=a(29),l={},u=a(33),m={user:{},validToken:!1,credits:0},d=function(e){return!!e},p={surveys:[]},h=Object(c.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},security:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(u.a)(Object(u.a)({},e),{},{validToken:d(t.payload),user:t.payload,credits:t.payload.credits});case"UPDATE_CREDITS":return Object(u.a)(Object(u.a)({},e),{},{credits:t.payload});default:return e}},surveys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SURVEYS":return Object(u.a)(Object(u.a)({},e),{},{surveys:t.payload});case"DELETE_SURVEY":return Object(u.a)(Object(u.a)({},e),{},{surveys:e.surveys.filter((function(e){return e.id!=t.payload}))});default:return e}}}),f={},g=[s.a],v=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),b=window.navigator.userAgent.includes("Chrome")&&v?Object(c.e)(h,f,Object(c.d)(c.a.apply(void 0,g),v)):Object(c.e)(h,f,Object(c.d)(c.a.apply(void 0,g))),E=(a(131),a(108)),y=a(11),C=a(219),x=a(223),j=a(225),O=a(227),w=a(19),S=a(20),k=a(14),N=a(22),T=a(21),R=a(16),D=a.n(R),_=a(35),F=a(24),A=a.n(F),P=function(e){e?A.a.defaults.headers.common.Authorization=e:delete A.a.defaults.headers.common.Authorization},W=a(99),z=a.n(W),U=a(200),M=a(201),L=a(202),I=a(204),G=a(45),q=a(104),B=a.n(q),V=a(196),X=a(100),Y=a.n(X),Q=function(e){Object(N.a)(a,e);var t=Object(T.a)(a);function a(){var e;return Object(w.a)(this,a),(e=t.call(this)).tokenCallback=e.tokenCallback.bind(Object(k.a)(e)),e}return Object(S.a)(a,[{key:"tokenCallback",value:function(e){this.props.updateMyCredits(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(Y.a,{amount:500,token:function(t){return e.tokenCallback(t)},stripeKey:"pk_test_bqdtmA3CqwpzqsHA8ml0UR5r00QgTRXA2r",name:"uservey",description:"$5 for 5 email credit"},r.a.createElement(V.a,{variant:"contained",color:"secondary",style:{marginRight:"2rem"}},"Add Credits"))}}]),a}(n.Component),H=a(64),J=a.n(H),$=a(203),K=Object(U.a)((function(e){return{root:{flexGrow:1},"@global":{ul:{margin:0,padding:0,listStyle:"none"}},toolbarTitle:{flexGrow:1,"&:hover":{color:"#FFFFFF",textDecoration:"none"}},link:{margin:e.spacing(1,2),"&:hover":{color:"#FFFFFF",textDecoration:"none"}},menuButton:{marginLeft:e.spacing(3)},title:{flexGrow:1,textAlign:"left",marginLeft:e.spacing(.8),textDecoration:"none",color:"white"},dashlink:{marginRight:e.spacing(1),marginLeft:e.spacing(2),"&:hover":{color:"#FFFFFF",textDecoration:"none"}}}}));var Z=function(e){var t=K();return r.a.createElement("div",{className:t.root},r.a.createElement(M.a,{position:"static"},r.a.createElement(L.a,null,r.a.createElement($.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(J.a,{fontSize:"large"})),r.a.createElement(G.a,{component:I.a,to:"/",variant:"h5",color:"inherit",className:t.title},"uservey"),r.a.createElement(Q,{updateMyCredits:e.updateMyCredits}),r.a.createElement(G.a,{variant:"h6",style:{marginRight:"2.3rem"}},"Credits : ",e.credits),r.a.createElement(B.a,{fontSize:"large",color:"inherit",style:{marginRight:"0.3em"}}),r.a.createElement(G.a,{variant:"h6"},e.user),r.a.createElement(V.a,{color:"inherit",variant:"outlined",className:t.link,onClick:e.logout},"Logout"))))},ee=a(79),te=a.n(ee),ae=Object(U.a)((function(e){return{root:{flexGrow:1},menuButton:{marginLeft:e.spacing(3)},title:{flexGrow:1,textAlign:"left",marginLeft:e.spacing(.8),textDecoration:"none",color:"white"}}}));function ne(){var e=ae();return r.a.createElement("div",{className:e.root},r.a.createElement(M.a,{position:"fixed"},r.a.createElement(L.a,null,r.a.createElement($.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(J.a,{fontSize:"large"})),r.a.createElement(G.a,{variant:"h5",className:e.title,component:te.a,to:"/"},"uservey"),r.a.createElement(V.a,{component:te.a,to:"/login",color:"inherit",variant:"outlined"},"Login"))))}var re=function(e){Object(N.a)(a,e);var t=Object(T.a)(a);function a(){var e;return Object(w.a)(this,a),(e=t.call(this)).updateMyCredits=e.updateMyCredits.bind(Object(k.a)(e)),e.logout=e.logout.bind(Object(k.a)(e)),e}return Object(S.a)(a,[{key:"logout",value:function(){this.props.logout(),window.location.href="/"}},{key:"updateMyCredits",value:function(e){var t=this.props.security.user.id;this.props.updateCredits(t,e)}},{key:"render",value:function(){var e=this.props.security,t=e.validToken,a=e.user,n=e.credits;return t&&a?r.a.createElement(Z,{user:a.fullname,logout:this.logout,credits:n,updateMyCredits:this.updateMyCredits}):r.a.createElement(ne,null)}}]),a}(n.Component),ie=Object(y.b)((function(e){return{security:e.security}}),{logout:function(){return function(e){localStorage.removeItem("jwtToken"),P(!1),e({type:"SET_CURRENT_USER",payload:{}})}},updateCredits:function(e,t){return function(){var a=Object(_.a)(D.a.mark((function a(n){var r;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.a.post("/api/users/update/".concat(e),t);case 2:r=a.sent,n({type:"UPDATE_CREDITS",payload:r.data});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(re),oe=a(30),se=a(226),ce=a(206),le=a(220),ue=a(208),me=a(207),de=a(205),pe=a(67),he=a.n(pe),fe=(a(96),Object(U.a)((function(e){return{paper:{marginTop:e.spacing(10),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(2),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},signup:{fontSize:e.spacing(5.4)}}})));var ge=function(e){var t=fe();return r.a.createElement(de.a,{component:"main",maxWidth:"xs"},r.a.createElement(ce.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(se.a,{className:t.avatar},r.a.createElement(he.a,null)),r.a.createElement(G.a,{variant:"h5",className:t.signup},"Sign up"),r.a.createElement("form",{className:t.form,onSubmit:e.onSubmit},r.a.createElement(me.a,{container:!0,spacing:3},r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(le.a,{fullWidth:!0,autoFocus:!0,error:!!e.errors.fullname,name:"fullname",variant:"outlined",helperText:e.errors.fullname,id:"fullname",label:"Full Name",value:e.fullname,onChange:e.onChange})),r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(le.a,{error:!!e.errors.username,fullWidth:!0,variant:"outlined",id:"email",label:"Email Address",helperText:e.errors.username,name:"username",value:e.username,onChange:e.onChange})),r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(le.a,{variant:"outlined",error:!!e.errors.password,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",helperText:e.errors.password,value:e.password,onChange:e.onChange})),r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(le.a,{variant:"outlined",error:!!e.errors.confirmPassword,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",helperText:e.errors.confirmPassword,value:e.confirmPassword,onChange:e.onChange}))),r.a.createElement(V.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign Up"),r.a.createElement(me.a,{container:!0,justify:"center"},r.a.createElement(me.a,{item:!0},r.a.createElement(ue.a,{component:ue.a,to:"/login",variant:"body2"},"Already have an account? Sign in"))))))},ve=function(e){Object(N.a)(a,e);var t=Object(T.a)(a);function a(){var e;return Object(w.a)(this,a),(e=t.call(this)).state={username:"",fullname:"",password:"",confirmPassword:"",errors:{}},e.onChange=e.onChange.bind(Object(k.a)(e)),e.onSubmit=e.onSubmit.bind(Object(k.a)(e)),e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this.props.security.validToken&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,fullname:this.state.fullname,password:this.state.password,confirmPassword:this.state.confirmPassword};this.props.createNewUser(t,this.props.history)}},{key:"onChange",value:function(e){this.setState(Object(oe.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return r.a.createElement(ge,{onSubmit:this.onSubmit,fullname:this.state.fullname,onChange:this.onChange,username:this.state.username,password:this.state.password,confirmPassword:this.state.confirmPassword,errors:this.state.errors})}}]),a}(n.Component),be=Object(y.b)((function(e){return{errors:e.errors,security:e.security}}),{createNewUser:function(e,t){return function(){var a=Object(_.a)(D.a.mark((function a(n){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A.a.post("/api/users/register",e);case 3:t.push("/login"),n({type:"GET_ERRORS",payload:{}}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:"GET_ERRORS",payload:a.t0.response.data});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}})(ve),Ee=Object(U.a)((function(e){return{paper:{marginTop:e.spacing(10),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(2),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},signup:{fontSize:e.spacing(5.4)}}}));var ye=function(e){var t=Ee();return r.a.createElement(de.a,{component:"main",maxWidth:"xs"},r.a.createElement(ce.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(se.a,{className:t.avatar},r.a.createElement(he.a,null)),r.a.createElement(G.a,{variant:"h5",className:t.signup},"Login"),r.a.createElement("form",{className:t.form,noValidate:!0,onSubmit:e.onSubmit},r.a.createElement(me.a,{container:!0,spacing:3},r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(le.a,{error:!!e.errors.username,fullWidth:!0,variant:"outlined",helperText:e.errors.username,id:"username",label:"Email Address",name:"username",type:"email",value:e.username,onChange:e.onChange})),r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(le.a,{error:!!e.errors.password,fullWidth:!0,variant:"outlined",helperText:e.errors.password,name:"password",label:"Password",type:"password",id:"password",value:e.password,onChange:e.onChange}))),r.a.createElement(V.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Login"))))},Ce=function(e){Object(N.a)(a,e);var t=Object(T.a)(a);function a(){var e;return Object(w.a)(this,a),(e=t.call(this)).state={username:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(k.a)(e)),e.onSubmit=e.onSubmit.bind(Object(k.a)(e)),e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this.props.security.validToken&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.security.validToken&&this.props.history.push("/addSurvey"),e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(oe.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,password:this.state.password};this.props.login(t)}},{key:"render",value:function(){return r.a.createElement(ye,{onSubmit:this.onSubmit,onChange:this.onChange,username:this.state.username,password:this.state.password,errors:this.state.errors})}}]),a}(n.Component),xe=Object(y.b)((function(e){return{security:e.security,errors:e.errors}}),{login:function(e){return function(){var t=Object(_.a)(D.a.mark((function t(a){var n,r,i;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.a.post("/api/users/login",e);case 3:n=t.sent,r=n.data.token,localStorage.setItem("jwtToken",r),P(r),i=z()(r),a({type:"SET_CURRENT_USER",payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"GET_ERRORS",payload:t.t0.response.data});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})(Ce),je=a(209),Oe=a(210),we=a(211),Se=Object(U.a)((function(e){return{layout:{width:"auto",height:"100vh",backgroundImage:"url(https://source.unsplash.com/PMxT0XtQ--A)",backgroundRepeat:"no-repeat",backgroundColor:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},root:{minWidth:275,padding:"2rem",paddingRight:"5rem",backgroundImage:"url(".concat("paper.png",")")},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:"3.8em"},link:{fontSize:"1.6em","&:hover":{color:"#FFFFFF",textDecoration:"none"}},actions:{display:"flex",justifyContent:"center"},paragraph:{marginTop:e.spacing(2),paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}}));var ke=function(e){var t=Se();return r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{container:!0,justify:"center",alignItems:"center",className:t.layout},r.a.createElement(me.a,{item:!0,xs:0,md:2,lg:3}),r.a.createElement(me.a,{item:!0,xs:12,md:8,lg:6},r.a.createElement(je.a,{className:t.root},r.a.createElement(Oe.a,null,r.a.createElement(G.a,{variant:"h1",className:t.title},"Grow business with"),r.a.createElement(G.a,{variant:"h10",className:t.title,color:"primary"},"instant survey data"),r.a.createElement(G.a,{variant:"h6",align:"center",color:"textSecondary",paragraph:!0,className:t.paragraph},"Understand what are your users expectations. Learn how to acquire more users and better retain your customers.")),r.a.createElement(we.a,{className:t.actions},r.a.createElement(V.a,{component:I.a,to:"/register",color:"primary",align:"center",variant:"contained",className:t.link},"Get Started")))),r.a.createElement(me.a,{item:!0,xs:0,md:2,lg:3})))},Ne=function(e){Object(N.a)(a,e);var t=Object(T.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this.props.security.validToken&&this.props.history.push("/dashboard")}},{key:"render",value:function(){return r.a.createElement(ke,null)}}]),a}(n.Component),Te=Object(y.b)((function(e){return{security:e.security}}))(Ne),Re=a(109),De=a(224),_e=Object(y.b)((function(e){return{security:e.security}}))((function(e){var t=e.component,a=e.security,n=Object(Re.a)(e,["component","security"]);return r.a.createElement(j.a,Object.assign({},n,{render:function(e){return!0===a.validToken?r.a.createElement(t,e):r.a.createElement(De.a,{to:"login"})}}))})),Fe=a(73),Ae=a(4),Pe=a(212),We=a(74),ze=a(105),Ue=a.n(ze),Me=a(106),Le=a.n(Me),Ie=Object(U.a)((function(e){return{head:{backgroundColor:e.palette.primary.light},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:We.a[500]},title:{color:"white"},button:{marginRight:e.spacing(4),fontSize:"2rem"},flex:{display:"flex",flexDirection:"column"},sideflex:{display:"flex",justifyContent:"space-around"},size:{fontSize:"1rem",padding:0},num:{borderWidth:1,borderStyle:"solid",borderColor:"theme.palette.primary.dark",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)",height:48,padding:"0 30px",fontSize:"1.5rem",backgroundColor:e.palette.grey[100],marginBottom:e.spacing(1.5)}}}));function Ge(e){var t=Ie(),a=r.a.useState(!1),n=Object(Fe.a)(a,2),i=n[0];n[1];return r.a.createElement(je.a,{className:t.root},r.a.createElement(Pe.a,{className:t.head,title:r.a.createElement(G.a,{variant:"h5",className:t.title},e.elem.title)}),r.a.createElement(Oe.a,{className:t.sideflex},r.a.createElement("div",{className:t.flex},r.a.createElement(V.a,{className:t.num},e.elem.yesCount+e.elem.noCount),r.a.createElement(G.a,{variant:"h6"},"Mails Sent")),r.a.createElement("div",{className:t.flex},r.a.createElement(V.a,{className:t.num},"0"),r.a.createElement(G.a,{variant:"h6"},"Pending")),r.a.createElement("div",{className:t.flex},r.a.createElement(V.a,{className:t.num},e.elem.yesCount),r.a.createElement(G.a,{variant:"h6"},"Yes Count")),r.a.createElement("div",{className:t.flex},r.a.createElement(V.a,{className:t.num},e.elem.noCount),r.a.createElement(G.a,{variant:"h6"},"No Count"))),r.a.createElement(we.a,{disableSpacing:!0},r.a.createElement($.a,{"aria-label":"add to favorites"},r.a.createElement(Ue.a,null)),r.a.createElement($.a,{"aria-label":"share"},r.a.createElement(Le.a,null)),r.a.createElement($.a,{className:Object(Ae.a)(t.expand,Object(oe.a)({},t.expandOpen,i)),"aria-expanded":i,"aria-label":"show more"},r.a.createElement(V.a,{variant:"contained",color:"secondary",onClick:e.onDeleteClick.bind(this,e.elem.id)},"Delete"))))}var qe=a(214),Be=a(72),Ve=a.n(Be),Xe=a(222),Ye=a(218),Qe=a(216),He=a(217),Je=a(215),$e=a(213),Ke=r.a.forwardRef((function(e,t){return r.a.createElement($e.a,Object.assign({direction:"up",ref:t},e))})),Ze=Object(U.a)((function(e){return{fab:{margin:0,top:"auto",right:e.spacing(10),bottom:e.spacing(10),left:"auto",position:"fixed"}}}));function et(){var e=Ze(),t=r.a.useState(!1),a=Object(Fe.a)(t,2),n=a[0],i=a[1],o=function(){i(!1)};return r.a.createElement("div",null,r.a.createElement(qe.a,{size:"large",variant:"round",color:"secondary","aria-label":"add",className:e.fab,onClick:function(){i(!0)}},r.a.createElement(Ve.a,null)),r.a.createElement(Xe.a,{open:n,TransitionComponent:Ke,keepMounted:!0,onClose:o,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Je.a,{id:"alert-dialog-slide-title"},"Credits Empty! Please recharge!"),r.a.createElement(Qe.a,null,r.a.createElement(He.a,{id:"alert-dialog-slide-description"},'You have zero credits. Recharge your wallet by clicking on "ADD CREDITS" above.')),r.a.createElement(Ye.a,null,r.a.createElement(V.a,{onClick:o,color:"primary"},"Agree"))))}var tt=Object(U.a)((function(e){return{layout:{width:"auto",height:"100vh"},flex:{display:"flex",flexDirection:"column"},margin:{marginTop:e.spacing(3),marginBottom:e.spacing(2)},fab:{margin:0,top:"auto",right:e.spacing(10),bottom:e.spacing(10),left:"auto",position:"fixed"},fabtext:{fontSize:e.spacing(2)}}}));var at=function(e){var t,a=tt();return t=e.credits>0?r.a.createElement(qe.a,{component:I.a,to:"/addSurvey",size:"large",variant:"round",color:"secondary","aria-label":"add",className:a.fab},r.a.createElement(Ve.a,null)):r.a.createElement(et,null),r.a.createElement("div",null,t,r.a.createElement(me.a,{container:!0,justify:"center",className:a.layout},r.a.createElement(me.a,{item:!0,xs:0,md:2,lg:3}),r.a.createElement(me.a,{item:!0,xs:12,md:8,lg:6},r.a.createElement("div",{className:a.flex},e.surveys.map((function(t){return r.a.createElement("div",{className:a.margin},r.a.createElement(Ge,{elem:t,onDeleteClick:e.onDeleteClick}))})))),r.a.createElement(me.a,{item:!0,xs:0,md:2,lg:3})))},nt=function(e){Object(N.a)(a,e);var t=Object(T.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onDeleteClick=function(t){e.props.deleteSurvey(t)},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this.props.getSurveys()}},{key:"render",value:function(){var e=this.props.surveys.surveys,t=this.props.security.credits;return r.a.createElement(at,{surveys:e,onDeleteClick:this.onDeleteClick,credits:t})}}]),a}(n.Component),rt=Object(y.b)((function(e){return{surveys:e.surveys,security:e.security}}),{getSurveys:function(){return function(){var e=Object(_.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("/sendgrid/all");case 2:a=e.sent,t({type:"GET_SURVEYS",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteSurvey:function(e){return function(){var t=Object(_.a)(D.a.mark((function t(a){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.delete("/sendgrid/".concat(e));case 2:a({type:"DELETE_SURVEY",payload:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(nt),it=a(107),ot=a.n(it),st=Object(U.a)((function(e){return{paper:{marginTop:e.spacing(10),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(2),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(4,0,4)},heading:{fontSize:e.spacing(5.4)}}}));var ct=function(e){var t=st();return r.a.createElement(de.a,{component:"main",maxWidth:"xs"},r.a.createElement(ce.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(se.a,{className:t.avatar},r.a.createElement(ot.a,null)),r.a.createElement(G.a,{variant:"h5",className:t.heading},"Survey Form"),r.a.createElement("form",{className:t.form,noValidate:!0,onSubmit:e.onSubmit},r.a.createElement(me.a,{container:!0,spacing:3},r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(le.a,{name:"subject",variant:"outlined",required:!0,fullWidth:!0,id:"subject",label:"Mail Subject",autoFocus:!0,value:e.subject,onChange:e.onChange})),r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(le.a,{name:"title",variant:"outlined",required:!0,fullWidth:!0,id:"title",label:"Survey Title",autoFocus:!0,value:e.title,onChange:e.onChange})),r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(le.a,{name:"recipientEmails",variant:"outlined",required:!0,fullWidth:!0,id:"recipientEmails",label:"Recipient Emails (Comma Seperated)",autoFocus:!0,value:e.recipientEmails,onChange:e.onChange})),r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(le.a,{name:"content",variant:"outlined",required:!0,fullWidth:!0,id:"content",label:"Mail Content",autoFocus:!0,value:e.content,onChange:e.onChange}))),r.a.createElement(V.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Create Survey"))))},lt=function(e){Object(N.a)(a,e);var t=Object(T.a)(a);function a(){var e;return Object(w.a)(this,a),(e=t.call(this)).state={subject:"",title:"",recipientEmails:"",content:""},e.onSubmit=e.onSubmit.bind(Object(k.a)(e)),e.onChange=e.onChange.bind(Object(k.a)(e)),e}return Object(S.a)(a,[{key:"onChange",value:function(e){this.setState(Object(oe.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.security.user.id;this.props.reduceOneCredit(t);var a={subject:this.state.subject,title:this.state.title,recipientEmails:this.state.recipientEmails,content:this.state.content};this.props.createSurvey(a,this.props.history)}},{key:"render",value:function(){return r.a.createElement(ct,{onSubmit:this.onSubmit,onChange:this.onChange,subject:this.state.subject,title:this.state.title,recipientEmails:this.state.recipientEmails,content:this.state.content})}}]),a}(n.Component),ut=Object(y.b)((function(e){return{security:e.security}}),{createSurvey:function(e,t){return function(){var a=Object(_.a)(D.a.mark((function a(n){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.a.post("/sendgrid/send",e);case 2:t.push("/dashboard");case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},reduceOneCredit:function(e){return function(){var t=Object(_.a)(D.a.mark((function t(a){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.get("/api/users/updateByOne/".concat(e));case 2:n=t.sent,a({type:"UPDATE_CREDITS",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(lt);var mt=function(){var e=Object(E.a)({palette:{type:"light"}});return r.a.createElement(y.a,{store:b},r.a.createElement(C.a,{theme:e},r.a.createElement(x.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(ie,null),r.a.createElement(j.a,{exact:!0,path:"/",component:Te}),r.a.createElement(j.a,{exact:!0,path:"/register",component:be}),r.a.createElement(j.a,{exact:!0,path:"/login",component:xe}),r.a.createElement(O.a,null,r.a.createElement(_e,{exact:!0,path:"/dashboard",component:rt}),r.a.createElement(_e,{exact:!0,path:"/addSurvey",component:ut}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(mt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),console.log("pk_test_bqdtmA3CqwpzqsHA8ml0UR5r00QgTRXA2r")}},[[123,1,2]]]);
//# sourceMappingURL=main.51513fca.chunk.js.map